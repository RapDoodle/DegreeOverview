{% extends "base.html" %}

{% block content %}
<div class="row no-gutters" style="margin-left: 5%; margin-right: 5%; margin-top: 2%">
  <div class="col-sm-9">
    <h1 class="h3 mb-3 font-weight-normal">{{ get_str('PERFORMANCE') }}</h1>
  </div>
  <div class="col-sm-1" style="margin-left:5%; margin-top: 1%">
    <button class="btn btn-outline-link btn dropdown-toggle" type="button" id="dropdownMenuButton"
      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      {% if len(data['completed_courses']) > 0 %}{{ data['completed_courses'][data['index']].course_name }}{% endif %}
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      {% for idx, course in enumerate(data['completed_courses']) %}
      <a class="dropdown-item" href="{{ url_for('performance_report.report') }}?index={{ idx }}">{{ course.course_name }}</a>
      {% endfor %}
    </div>
  </div>
</div>
<div class="row no-gutters" style="margin-left: 5%; margin-right: 5%">
  <div class="col-sm-12">
    <table class="table table-bordered text-center">
      <thead class="thead-light">
        <tr>
          <th colspan="3">{{ get_str('PERFORMANCE_REPORT') }}</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>CILO</th>
          <th>{{ get_str('CILO_DESCRIPTION') }}</th>
          <th>{{ get_str('PERFORMANCE') }}</th>
        </tr>
        {% for idx, cilo in enumerate(data['cilos']) %}
        <tr>
          <td>CILO {{ cilo.cilo_index }}</td>
          <td>{{ cilo.cilo_description }}</td>
          <td>{{ "{:5.2f}".format(data['scores'][idx] * 100) }}%</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>


{% endblock %}