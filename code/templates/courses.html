{% extends "base.html" %}
{% macro tag_title() -%}
{% if session['user_type'] == STUDENT %}
{{ get_str('STUDENT') }}
{% elif session['user_type'] == LECTURER %}
{{ get_str('LECTURER') }}
{% elif session['user_type'] == COURSE_DESIGNER %}
{{ get_str('COURSE_DESIGNER') }}
{% endif %}
{%- endmacro %}
{% block title %} {{ tag_title() }} {% endblock%}


{% block content %}

{% macro tab_title() -%}
{% if session['user_type'] == STUDENT %}
{{ get_str('STUDENT_HOME_PAGE') }}
{% elif session['user_type'] == LECTURER %}
{{ get_str('LECTURER_HOME_PAGE') }}
{% elif session['user_type'] == COURSE_DESIGNER %}
{{ get_str('COURSE_DESIGNER_HOME_PAGE') }}
{% endif %}
{%- endmacro %}

<div class="row">
	<div class="col" id="location">
		<span>
			<h2>{{ tab_title() }}</h2>
		</span>
	</div>
</div>

{% if session['user_type'] == COURSE_DESIGNER %}
<!-- Button trigger modal -->
<button type="button" class="btn btn-light" data-toggle="modal" data-target=".add-course">
	<i class="fa fa-plus"></i>
</button>
<span>{{ get_str('ADD_NEW_COURSE') }}</span>
<br><br>
{% endif %}

<table class="table table-bordered table-striped table-hover">
	<tr>
		<th style="width: 87%;">{{ get_str('COURSE_NAME') }}</th>
		{% if session['user_type'] == COURSE_DESIGNER %}
		<th style="min-width: 250px;">{{ get_str('ACTIONS') }}</th>
		{% endif %}
	</tr>
	{% for i in range (0,6) %}
	<tr>
		<td>{{ i+1 }}</td>
		{% if session['user_type'] == COURSE_DESIGNER %}
		<td>
			<div class="dropdown">
				<button class="btn btn-light dropdown-toggle" type="button" id="maangeButton" data-toggle="dropdown"
					aria-haspopup="true" aria-expanded="false">
					<i class="fa fa-gear"></i>
				</button>
				<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
					<a class="dropdown-item" href="#" data-toggle="modal" data-target=".edit-CILOs"
						data-category-id="id" data-category-name="name" data-category-priority="priority">{{
						get_str('EDIT_CILOS') }}</a>
					<hr>
					<a class="dropdown-item" href="#" data-toggle="modal" data-target=".Modify-Assessment-Method"
						data-category-id="category_id" data-category-name="category_name">{{
						get_str('MODIFY_ASSESSMENT_METHOD') }}</a>
				</div>
			</div>
		</td>
		{% endif %}
	</tr>
	{% endfor %}
</table>

<!-- Large modal -->
<!--
<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".define-box">Large modal</button>
-->


<div class="modal fade bd-example-modal-lg add-course" tabindex="-1" role="dialog" aria-labelledby="add-course"
	aria-hidden="true" style="overflow:auto">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">

			<div class="modal-header">
				<h4 class="modal-title" id="myLargeModalLabel">{{ get_str('NEW_COURSE') }}</h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">×</span>
				</button>
			</div>

			<div class="modal-body">
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<div class="col">
						<h5>{{ get_str('COURSE_TITLE') }}</h5>
						<input type="text" class="form-control" placeholder="" aria-label=""
							aria-describedby="basic-addon1">
					</div>
					<div class="col">
						<h5>{{ get_str('LECTURER') }}</h5>
						<input type="text" class="form-control" placeholder="" aria-label=""
							aria-describedby="basic-addon1">
					</div>
				</div>
				<div class="row" style="margin: 2.5%;margin-bottom: 0%">
					<div class="col">
						<h5>{{ get_str('COURSE_CODE') }}</h5>
						<input type="text" class="form-control" placeholder="" aria-label=""
							aria-describedby="basic-addon1">
					</div>
					<div class="col">
						<h5>{{ get_str('COURSE_TYPE') }}</h5>
						<input type="text" class="form-control" placeholder="" aria-label=""
							aria-describedby="basic-addon1">
					</div>
				</div>
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<div class="col">
						<h5>{{ get_str('PRE-REQUISITES') }}</h5>
						<table class="table table-bordered table-striped ">

							<tr style="text-align: center;">
								<th>
									<h5>{{ get_str('COURSE_NAME') }}</h5>
								</th>
							</tr>
							{% for i in ["test1","test2","test3"] %}
							<tr style="text-align: center;">
								<td>{{i}}</td>
							</tr>
							{% endfor %}

						</table>
					</div>
				</div>
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<div class="col">
						<div class="row">
							<div class="col">
								<h5>{{ get_str('CILOS') }}</h5>
							</div>
							<div class="col" style="text-align: right;">
								<button type="button" class="btn btn-success" data-toggle="modal"
									data-target=".upload-file">{{ get_str('IMPORT') }}</button>
								<button type="button" class="btn btn-light">
									<i class="fa fa-plus"></i>
								</button>
							</div>

						</div>
						<table class="table table-bordered table-striped " style="margin-top: 5px;">

							<tr style="text-align: center;">
								<th>
									<h5>{{ get_str('NAME') }}</h5>
								</th>
								<th>
									<h5>{{ get_str('DESCRIPTION') }}</h5>
								</th>
								<th>
									<h5>{{ get_str('DEPENDENCIES') }}</h5>
								</th>
								<th></th>
							</tr>
							{% for i in ["test1","test2","test3"] %}
							<tr style="text-align: center;">
								<td><input type="text" class="form-control"
										placeholder="please input {{ get_str('COURSE_NAME') }}" value="{{i}}"
										aria-label="" aria-describedby="basic-addon1" style="text-align: center;"
										></td>
								<td><input type="text" class="form-control"
										placeholder="please input {{ get_str('DESCRIPTION') }}"
										value="{{i+ get_str('DESCRIPTION') }}" aria-label=""
										aria-describedby="basic-addon1" style="text-align: center;"></td>
								<td><button type="button" class="btn btn-info" data-toggle="modal"
										data-target=".define-box"> Define</button></td>
								<td><button type="button" class="btn btn-light">
										<i class="fa fa-minus"></i>
									</button></td>
							</tr>
							{% endfor %}

						</table>
					</div>
				</div>
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<div class="col">
						<div class="row">
							<div class="col">
								<h5>{{ get_str('ASSESSMENT_METHODS') }}</h5>
							</div>
							<div class="col" style="text-align: right;">
								<button type="button" class="btn btn-success" data-toggle="modal"
									data-target=".upload-file">{{ get_str('IMPORT') }}</button>
								<button type="button" class="btn btn-light">
									<i class="fa fa-plus"></i>
								</button>
							</div>

						</div>
						<table class="table table-bordered table-striped " style="margin-top: 5px;">

							<tr style="text-align: center;">
								<th>
									<h5>{{ get_str('NAME') }}</h5>
								</th>
								<th>
									<h5>{{ get_str('RELATED_CILOS') }}</h5>
								</th>
								<th>
									<h5>{{ get_str('PRECENTAGE') }}</h5>
								</th>
								<th></th>
							</tr>

							{% for i in ["test1","test2","test3"] %}
							<tr style="text-align: center;">
								<td><input type="text" class="form-control" placeholder="please input name"
										value="{{'Assignment'}}" aria-label="" aria-describedby="basic-addon1"
										style="text-align: center;"></td>
								<td>
									<div class="input-group ">
										<input type="text" class="form-control" placeholder="please choose CILOs"
											value="{{'1,4'}}" aria-label="" aria-describedby="basic-addon2"
											style="text-align: center;" disabled>
										<div class="input-group-append">
											<div class="dropdown" style="display: inline; ">

												<button class="btn btn-outline-secondary dropdown-toggle"
													data-toggle="dropdown" aria-expanded="false" style="float:right">

												</button>
												<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
													{% for i in ["1,3","1,2"] %}
													<div class="input-group mb-3">
														<div class="input-group-prepend">
															<div class="input-group-text">
																<input type="checkbox"
																	aria-label="Checkbox for following text input"
																	onchange="">
															</div>
														</div>
														<input type="text" class="form-control" placeholder="{{i}}"
															aria-label="Text input with checkbox" disabled>
													</div>
													{% endfor %}
												</div>
											</div>
										</div>
									</div>

								</td>
								<td>25%</td>
								<td><button type="button" class="btn btn-light">
										<i class="fa fa-minus"></i>
									</button></td>
							</tr>
							{% endfor %}

						</table>
					</div>
				</div>
				<div class="row" style="margin: 2.5%;">
					<div class="col" style="text-align: right;">
						<button type="button" class="btn btn-warning" data-dismiss="modal">
							{{ get_str('CANCEL') }}
						</button>
						<button type="button" class="btn btn-primary" style="margin-left: 5px;">
							{{ get_str('CONFIRM') }}
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- define-box -->
<div class="modal fade bd-example-modal-lg define-box" tabindex="-1" role="dialog" aria-labelledby="define-box"
	aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">

			<div class="modal-header">
				<h4 class="modal-title" id="myLargeModalLabel">{{ get_str('CILO_DEPENDENCIES') }}</h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">×</span>
				</button>
			</div>

			<div class="modal-body">
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<div class="input-group ">
						<div class="input-group-prepend">
							<div class="dropdown" style="display: inline; ">

								<button class="btn btn-outline-secondary dropdown-toggle" data-toggle="dropdown"
									aria-expanded="false" style="float:right">
									{{ get_str('TYPE') }}
								</button>
								<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
									<a class="dropdown-item" href="#" data-toggle="modal" data-target="#editModal"
										data-target="#editModal" data-category-id="id" data-category-name="name"
										data-category-priority="priority">{{ get_str('COURSES') }}</a>
									<hr>
									<a class="dropdown-item" href="#" data-toggle="modal" data-target="#deleteModal"
										data-category-id="category_id" data-category-name="category_name">{{
										get_str('CILOS') }}</a>
								</div>
							</div>
						</div>
						<input type="text" class="form-control" placeholder="Search" value="" aria-label=""
							aria-describedby="basic-addon2">
						<div class="input-group-append">
							<button class="btn btn-outline-secondary">
								<i class="fa fa-search"></i>
							</button>
						</div>
					</div>
				</div>



				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<div class="col">
						<div class="row">
							<div class="col" style="text-align: center;">
								<h5>{{ get_str('SEARCH_RESULTS') }}</h5>
							</div>
						</div>
						<table class="table table-bordered table-striped " style="margin-top: 5px;">
							<tr style="text-align: center;">
								<th>
									<h5>{{ get_str('COURSE') }}</h5>
								</th>
								<th>
									<h5>{{ get_str('CILO') }}</h5>
								</th>
								<th style="width: 30px;">
									<h5>{{ get_str('ACTION') }}</h5>
								</th>
							</tr>
							{% for i in ["1","2","3"] %}
							<tr style="text-align: center;">
								<td>{{'Course '+i}}</td>
								<td>{{'CILO '+i}}</td>
								<td><button type="button" class="btn btn-light">
										<i class="fa fa-plus"></i>
									</button></td>
							</tr>
							{% endfor %}

						</table>
					</div>
				</div>
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<div class="col">
						<div class="row">
							<div class="col" style="text-align: center;">
								<h5>{{ get_str('ADDED_CILOS') }}</h5>
							</div>
						</div>
						<table class="table table-bordered table-striped " style="margin-top: 5px;">

							<tr style="text-align: center;">
								<th>
									<h5>{{ get_str('COURSE') }}</h5>
								</th>
								<th>
									<h5>{{ get_str('CILO') }}</h5>
								</th>
								<th style="width: 30px;">
									<h5>{{ get_str('ACTION') }}</h5>
								</th>
							</tr>
							{% for i in ["1","2","3"] %}
							<tr style="text-align: center;">
								<td>{{'Course '+i}}</td>
								<td>{{'CILO '+i}}</td>
								<td><button type="button" class="btn btn-light">
										<i class="fa fa-minus"></i>
									</button></td>
							</tr>
							{% endfor %}

						</table>
					</div>
				</div>
				<div class="row" style="margin: 2.5%;">
					<div class="col" style="text-align: right;">
						<button type="button" class="btn btn-warning" data-dismiss="modal">
							{{ get_str('CANCEL') }}
						</button>
						<button type="button" class="btn btn-primary" style="margin-left: 5px;">
							{{ get_str('CONFIRM') }}
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<!-- edit-CILOs -->
<div class="modal fade bd-example-modal-lg edit-CILOs" tabindex="-1" role="dialog" aria-labelledby="edit-CILOs"
	aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">

			<div class="modal-header">
				<h4 class="modal-title" id="myLargeModalLabel">{{ get_str('EDIT_CILOS') }}</h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">×</span>
				</button>
			</div>

			<div class="modal-body">
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<h4>{{ get_str('COURSE_TITLE') }} : Course 1</h4>
				</div>
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<h4>{{ get_str('COURSE_CODE') }} : COMP3043</h4>
				</div>
				<hr>
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<div class="col">
						<div class="row">
							<div class="col">
								<h4>{{ get_str('CILOS') }}</h4>
							</div>
							<div class="col" style="text-align: right;">

								<button type="button" class="btn btn-light">
									<i class="fa fa-plus"></i>
								</button>
							</div>

						</div>
						<table class="table table-bordered table-striped " style="margin-top: 5px;">

							<tr style="text-align: center;">
								<th>
									<h5>{{ get_str('NAME') }}</h5>
								</th>
								<th>
									<h5>{{ get_str('DESCRIPTION') }}</h5>
								</th>

							</tr>
							{% for i in ["test1","test2","test3"] %}
							<tr style="text-align: center;">
								<td><input type="text" class="form-control"
										placeholder="please input {{ get_str('COURSE_NAME') }}" value="{{i}}"
										aria-label="" aria-describedby="basic-addon1" style="text-align: center;" disabled></td>
								<td><input type="text" class="form-control"
										placeholder="please input {{ get_str('DESCRIPTION') }}"
										value="{{i+ get_str('DESCRIPTION') }}" aria-label=""
										aria-describedby="basic-addon1" style="text-align: center;"></td>

							</tr>
							{% endfor %}

						</table>
					</div>
				</div>

				<div class="row" style="margin: 2.5%;">
					<div class="col" style="text-align: right;">
						<button type="button" class="btn btn-success" data-toggle="modal" data-target=".upload-file">
							{{ get_str('IMPORT') }}
						</button>
						<button type="button" class="btn btn-warning" data-dismiss="modal" style="margin-left: 5px;">
							{{ get_str('CANCEL') }}
						</button>
						<button type="button" class="btn btn-primary" style="margin-left: 5px;">
							{{ get_str('CONFIRM') }}
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Modify-Assessment-Method -->
<div class="modal fade bd-example-modal-lg Modify-Assessment-Method" tabindex="-1" role="dialog"
	aria-labelledby="Modify-Assessment-Method" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">

			<div class="modal-header">
				<h4 class="modal-title" id="myLargeModalLabel">{{ get_str('EDIT_CILOS') }}</h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">×</span>
				</button>
			</div>

			<div class="modal-body">
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<h4>{{ get_str('COURSE_TITLE') }} : Course 1</h4>
				</div>
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<h4>{{ get_str('COURSE_CODE') }} : COMP3043</h4>
				</div>
				<hr>
				<div class="row" style="margin: 2.5%;margin-bottom: 0%;">
					<div class="col">
						<div class="row">
							<div class="col">
								<h4>{{ get_str('ASSESSMENT_METHODS') }}</h4>
							</div>
							<div class="col" style="text-align: right;">
								<button type="button" class="btn btn-light">
									<i class="fa fa-plus"></i>
								</button>
							</div>

						</div>
						<table class="table table-bordered table-striped " style="margin-top: 5px;">

							<tr style="text-align: center;">
								<th>
									<h5>{{ get_str('NAME') }}</h5>
								</th>
								<th>
									<h5>{{ get_str('RELATED_CILOS') }}</h5>
								</th>
								<th>
									<h5>{{ get_str('PRECENTAGE') }}</h5>
								</th>
							</tr>

							{% for i in ["test1","test2","test3"] %}
							<tr style="text-align: center;">
								<td><input type="text" class="form-control" placeholder="please input name"
										value="{{'Assignment'}}" aria-label="" aria-describedby="basic-addon1"
										style="text-align: center;"></td>
								<td>
									<div class="input-group ">
										<input type="text" class="form-control" placeholder="please choose CILOs"
											value="{{'1,4'}}" aria-label="" aria-describedby="basic-addon2"
											style="text-align: center;" disabled>
										<div class="input-group-append">
											<div class="dropdown" style="display: inline; ">

												<button class="btn btn-outline-secondary dropdown-toggle"
													data-toggle="dropdown" aria-expanded="false" style="float:right">

												</button>
												<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
													{% for i in ["1,3","1,2"] %}
													<div class="input-group mb-3">
														<div class="input-group-prepend">
															<div class="input-group-text">
																<input type="checkbox"
																	aria-label="Checkbox for following text input"
																	onchange="">
															</div>
														</div>
														<input type="text" class="form-control" placeholder="{{i}}"
															aria-label="Text input with checkbox" disabled>
													</div>
													{% endfor %}
												</div>
											</div>
										</div>
									</div>

								</td>
								<td>25%</td>
							</tr>
							{% endfor %}

						</table>
					</div>
				</div>

				<div class="row" style="margin: 2.5%;">
					<div class="col" style="text-align: right;">
						<button type="button" class="btn btn-success" data-toggle="modal" data-target=".upload-file">
							{{ get_str('IMPORT') }}
						</button>
						<button type="button" class="btn btn-warning" data-dismiss="modal" style="margin-left: 5px;">
							{{ get_str('CANCEL') }}
						</button>
						<button type="button" class="btn btn-primary" style="margin-left: 5px;">
							{{ get_str('CONFIRM') }}
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<!-- upload -->
<div class="modal fade upload-file" tabindex="-1" role="dialog" aria-labelledby="upload-file" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="newproductModalLabel">{{ get_str('UPLOAD') }}</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<form id="img-update-form" action="" method="POST" enctype="multipart/form-data">
					<input type="hidden" name="csrf_token" value="" />
					<input type="hidden" name="update_type" id="update-type" />
					<input type="hidden" name="product_id" id="product-id" />
					<div class="custom-file">
						<input type="file" class="custom-file-input" id="customFile" name="file" accept="image/*">
						<label class="custom-file-label" for="customFile">{{ get_str('CHOOSE_FILE') }}</label>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-warning" data-dismiss="modal">{{ get_str('CANCEL') }}</button>
				<button type="submit" class="btn btn-primary" form="img-update-form">{{ get_str('UPLOAD') }}</button>
			</div>
		</div>
	</div>
</div>
{% endblock %}


{% block script %}
<script>
	//fix the problem of modal
	$('.define-box').on('hidden.bs.modal', function (event) {
	$("body").addClass("modal-open");
  })

  $('.upload-file').on('hidden.bs.modal', function (event) {
	$("body").addClass("modal-open");
  })
</script>

{% endblock %}